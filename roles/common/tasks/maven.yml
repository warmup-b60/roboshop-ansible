- name: Installing Maven 
  ansible.builtin.dnf:  
    name: maven
    state: present   

- name: Create app user for {{ component }}
  ansible.builtin.include_role:
    name: common
    tasks_from: create-app-user

- name: Downloading & extracting {{ component }} content
  ansible.builtin.include_role:
    name: common
    tasks_from: download-and-extract

- name: Generating artifacts
  ansible.builtin.shell: mvn clean package ; mv target/{{ component }}-1.0.jar {{ component }}.jar
  args:
    chdir: "{{ app_path }}"

- name: Start service for {{ component }}
  ansible.builtin.include_role:
    name: common
    tasks_from: config-svc 
